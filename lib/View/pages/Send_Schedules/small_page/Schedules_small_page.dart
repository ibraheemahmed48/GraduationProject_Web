import 'dart:convert';import 'dart:typed_data';import 'package:dotted_border/dotted_border.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:flutter_dropzone/flutter_dropzone.dart';import 'dart:html' as html;import 'package:http/http.dart' as http;import '../../../../help/Colors.dart';import '../../../../help/text_style.dart';import '../../Send_news/small_page/Send_news_TextField_small.dart';import '../../controler/model.dart';import '../larg_page/Schedules_Button1.dart';import 'Row_of_Button_Schedules.dart';import 'Row_of_Button_stages_Small.dart';import '../larg_page/Row_of_Button_stages.dart';import 'Schedules_TextField_small.dart';class Schedules_small_page extends StatefulWidget {  const Schedules_small_page({Key? key}) : super(key: key);  @override  State<Schedules_small_page> createState() => _Schedules_small_pageState();}class _Schedules_small_pageState extends State<Schedules_small_page> {  @override  Widget build(BuildContext context) {    return Center(      child: Column(        mainAxisAlignment: MainAxisAlignment.spaceEvenly,        children: [          Image.asset(            "photo/1111.png",            width: MediaQuery.of(context).size.longestSide /3.5,            height: MediaQuery.of(context).size.longestSide / 3.5,          ),          Text(            "اضافة جدول",            style: Text_Style.getstyle(                fontsize:                MediaQuery.of(context).size.longestSide / 20,                ColorText: Colorsapp.White,                fontWeight: FontWeight.w700),          ),          Schedules_TextField_small(news: Stages.news,),          //////////'          GestureDetector(              onDoubleTap: () async {                print("ssssss");                //upLodeFile();                print(await Stages.controller1!.pickFiles(mime: ['image/jpeg', 'image/png']));              },              child: DottedBorder(                dashPattern: [10, 4],                strokeWidth: 2,                color: Colorsapp.White,                strokeCap: StrokeCap.butt,                borderType: BorderType.RRect,                radius: Radius.circular(5),                child: Container(                  width: MediaQuery.of(context).size.width / 2.5,                  height: MediaQuery.of(context).size.height / 11,                  color: Colorsapp.White,                  child: Stack(                    children: [                      buildZone1(context),                      Column(                        mainAxisAlignment: MainAxisAlignment.spaceAround,                        children: [                          Text(                            "ارفاق صورة",                            style: Text_Style.getstyle(                                fontsize: MediaQuery.of(context).size.longestSide / 60,                                ColorText: Colorsapp.mainColor,                                fontWeight: FontWeight.w700),                          ),                          Center(child: Text(Stages.message1, style: Text_Style.getstyle(                              fontsize: MediaQuery.of(context).size.longestSide / 70,                              ColorText: Colorsapp.mainColor,                              fontWeight: FontWeight.w500),)),                        ],                      ),                    ],                  ),                ),              )),          Stages.bytesData1 != null              ? ClipRRect(            borderRadius: BorderRadius.circular(20),            child: Image.memory(              Stages.bytesData1!,              width: MediaQuery.of(context).size.width/6,              height: MediaQuery.of(context).size.height/10,            ),          ) : Container(),          Container(            width: MediaQuery.of(context).size.width/1.2,            height: 50,            child: Row_of_Button_Schedules()          ),          Text(            "اختيار المرحلة الدراسية ",            style: Text_Style.getstyle(                fontsize:                MediaQuery.of(context).size.longestSide / 25,                ColorText: Colorsapp.White,                fontWeight: FontWeight.w700),          ),          Row_of_Button_stages_Small(),          Container(              width: MediaQuery.of(context).size.width / 3,              height: MediaQuery.of(context).size.height / 15,              child: ElevatedButton(                style: ElevatedButton.styleFrom(                  backgroundColor: Colorsapp.SecondColor,                  shape: RoundedRectangleBorder(                      borderRadius: BorderRadius.circular(18)),                ),                onPressed: () {                  setState(() {});                  if (Stages.button_clicked[0] == true)                    print(Stages.stages[0]);                  if (Stages.button_clicked[1] == true)                    print(Stages.stages[1]);                  if (Stages.button_clicked[2] == true)                    print(Stages.stages[2]);                  if (Stages.button_clicked[3] == true)                    print(Stages.stages[3]);                },                child: Text(                  "ارسال",                  style: Text_Style.getstyle(                      fontsize:                      MediaQuery.of(context).size.longestSide /                          40,                      ColorText: Colorsapp.White,                      fontWeight: FontWeight.w800),                ),              )),        ],      ),    );  }  Widget buildZone1(BuildContext context) => Builder(    builder: (context) => DropzoneView(      operation: DragOperation.copy,      cursor: CursorType.grab,      onCreated: (ctrl) => Stages.controller1 = ctrl,      onLoaded: () => print('Zone 1 loaded'),      onError: (ev) => print('Zone 1 error: $ev'),      onHover: () {        setState(() => Stages.highlighted1 = true);        print('Zone 1 hovered');      },      onLeave: () {        setState(() => Stages.highlighted1 = false);        print('Zone 1 left');      },      onDrop: (ev) async {        print('Zone 1 drop: ${ev.name}');        setState(() {          Stages.message1 = '${ev.name} '.substring(0,10);          Stages.highlighted1 = false;        });        final bytes = await Stages.controller1!.getFileData(ev);        print(bytes);        Stages.bytesData1 =bytes;        print("${ev.path.runtimeType}11111111111111");      },      onDropMultiple: (ev) async {        print('Zone 1 drop multiple: $ev');      },    ),  );}